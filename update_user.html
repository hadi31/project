<!doctype html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
      <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
      <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
      <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
      <title>Update User</title>
      <style>
         nav {
         min-height: 70px
         }
         tfoot input {
         width: 100%;
         padding: 3px;
         box-sizing: border-box;
         }
         nav .navbar-brand .logo {
         padding: 10px 15px;
         border-radius: 8px
         }
         nav .navbar-brand .logo .h2 {
         margin: 0
         }
         nav .navbar-brand .h4 {
         margin-bottom: 0px;
         font-weight: 900
         }
         nav .navbar-brand .fs-6 {
         font-size: 0.88rem !important
         }
         .navbar-light .navbar-nav .nav-link:hover {
         color: #4e2296
         }
         nav ul li {
         padding: 0 20px
         }
         .navbar-light .navbar-nav .nav-link {
         color: #333
         }
         .logo img{
         float: left;
         width: 150px;
         height: auto;
         }
      </style>
   </head>
   <body>
      <header>
         <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
               <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mynav" aria-controls="mynav" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button> 
               <a class="navbar-brand" href="#">
                  <div class="d-flex">
                     <div class="ms-3 d-flex flex-column">
                        <div class="h4">Digital Customer </div>
                        <div class="h4">Onboarding</div>
                     </div>
                  </div>
               </a>
               <div class="collapse navbar-collapse" id="mynav">
                  <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                     <li class="nav-item"> <a class="nav-link" href="{% url 'Owner:updUser' %}">Update Users</a> </li>
                     <li class="nav-item"> <a class="nav-link" href="{% url 'accounts:homepage' %}"> Log Out</a> </li>
                  </ul>
               </div>
            </div>
         </nav>
      </header>
      <script>
         $(document).ready(function() {
         	// Setup - add a text input to each footer cell
         	$('#example thead tr').clone(true).appendTo( '#example thead' );
         	$('#example thead tr:eq(1) th').each( function (i) {
         		var title = $(this).text();
         		$(this).html( '<input type="text" placeholder="Search '+title+'" />' );
         
         		$( 'input', this ).on( 'keyup change', function () {
         			if ( table.column(i).search() !== this.value ) {
         				table
         					.column(i)
         					.search( this.value )
         					.draw();
         			}
         		} );
         	} );
         
         	var table = $('#example').DataTable( {
         		orderCellsTop: true,
         		fixedHeader: true
         	} );
         } );
      </script>
      <table id="example" class="display" style="width:100%">
         <thead>
            <tr>
               <th>User ID</th>
               <th>First Name</th>
               <th>Last Name</th>
               <th>Email</th>
               <th>Date Joined</th>
               <th>Edit/Delete</th>
            </tr>
         </thead>
         <tbody>
            {% for sts in st %}
            <tr>
               <td>
                  {{sts.id}}
               </td>
               <td>
                  {{sts.first_name}}
               </td>
               <td>
                  {{sts.last_name}}
               </td>
               <td>
                  {{sts.email}}
               </td>
               {% for bts in bt %}
               {% if bts.roleId_id == sts.id %}
               <td>
                  {{bts.role}}
               </td>
               {% endif %}
               {% endfor %}
               <td>
                  <a href="/edit/{{sts.id}}" class="edit" title="Edit" data-toggle="tooltip"><i class="material-icons">&#xE254;</i></a>
                  <a href="/delete/{{sts.id}}" class="delete" title="Delete" data-toggle="tooltip"><i class="material-icons">&#xE872;</i></a>
               </td>
            </tr>
            {% endfor %}
         </tbody>
      </table>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
   </body>
</html>